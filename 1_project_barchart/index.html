<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h1 id="title">GDP</h1>

      <script>
        const w = 800;
        const h = 600;
        const svg = d3
          .select("body")
          .append("svg")
          .attr("width", w)
          .attr("height", h);

        fetch("./GDP-data.json")
          .then(response => response.json())
          .then(data => {
          console.log(JSON.stringify(data.data))
          
          const barWidth = Math.round(w/data.data.length);
          svg
          .selectAll("rect")
          .data(data.data)
          .enter()
          .append("rect")
          .attr("x", (d, i) => i* (barWidth +2) )
          .attr("y", (d, i) => 0)
          .attr("width", barWidth)
          .attr("height", (d, i) => d[1])
          .attr("fill", "navy")
          // Data Visualization with D3: Add a Hover Effect to a D3 Element
          .attr("class", "bar")
          // Data Visualization with D3: Add a Tooltip to a D3 Element
          .append("title")
          .text((d, i) => d[0]);
          
          }
          );

        // const dataset2 = [12, 31, 22, 17, 25, 18, 29, 14];

        // const svg2 = d3
        //   .select("body")
        //   .append("svg")
        //   .attr("width", w2)
        //   .attr("height", h2);

        // svg2
        //   .selectAll("rect")
        //   .data(dataset2)
        //   .enter()
        //   .append("rect")
        //   .attr("x", (d2, i) => i * 30)
        //   .attr("y", (d2, i) => h2 - 3 * d2)
        //   .attr("width", 25)
        //   .attr("height", (d2, i) => 3 * d2)
        //   .attr("fill", "navy")
        //   // Data Visualization with D3: Add a Hover Effect to a D3 Element
        //   .attr("class", "bar")
        //   // Data Visualization with D3: Add a Tooltip to a D3 Element
        //   .append("title")
        //   .text((d2, i) => d2);
        // svg2
        //   .selectAll("text")
        //   .data(dataset2)
        //   .enter()
        //   // Add your code below this line
        //   // Data Visualization with D3: Add Labels to D3 Elements
        //   .append("text")
        //   .attr("x", (d2, i) => i * 30)
        //   .attr("y", (d2, i) => h2 - 3 * d2 - 3)
        //   // Data Visualization with D3: Style D3 Labels
        //   .style("fill", "red")
        //   .text((d2, i) => d2)
        //   // Data Visualization with D3: Style D3 Labels
        //   .style("font-size", "25px");
        // // Data Visualization with D3: Create a Scatterplot with SVG Circles
        // const dataset3 = [
        //   [34, 78],
        //   [109, 280],
        //   [310, 120],
        //   [79, 411],
        //   [420, 220],
        //   [233, 145],
        //   [333, 96],
        //   [222, 333],
        //   [78, 320],
        //   [21, 123]
        // ];

        // const w3 = 500;
        // const h3 = 500;
        // const svg3 = d3
        //   .select("body")
        //   .append("svg")
        //   .attr("width", w3)
        //   .attr("height", h3);
        // svg3
        //   .selectAll("circle")
        //   .data(dataset3)
        //   .enter()
        //   .append("circle")
        //   // Data Visualization with D3: Add Attributes to the Circle Elements
        //   .attr("cx", d => d[0])
        //   .attr("cy", d => h3 - d[1])
        //   .attr("r", 5);
        // // Data Visualization with D3: Add Labels to Scatter Plot Circles
        // svg3
        //   .selectAll("text")
        //   .data(dataset3)
        //   .enter()
        //   .append("text")
        //   .text(d => d[0] + ", " + d[1])
        //   .attr("x", d => d[0] + 5)
        //   .attr("y", d => h3 - d[1]);
      </script>
    </div>
  </body>
</html>
